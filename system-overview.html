<!DOCTYPE html><html><head>
      <title>system-overview</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <link rel="stylesheet" href="file:////Users/nicolasreibnitz/.vscode/extensions/shd101wyy.markdown-preview-enhanced-0.8.13/crossnote/dependencies/katex/katex.min.css">
      
      
      
      
      
      <style>
      pre{font-family:Menlo,Monaco,Consolas,'Courier New',monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;padding:1em;margin:.5em 0;overflow:auto;line-height:1.5;tab-size:4;hyphens:none;color:#839496;background-color:#003b4a!important;border:#006c88;border-radius:3px}pre[class*=language-]{padding:1em}code[class*=language-] .token.cdata,code[class*=language-] .token.comment,code[class*=language-] .token.doctype,code[class*=language-] .token.prolog,pre[class*=language-] .token.cdata,pre[class*=language-] .token.comment,pre[class*=language-] .token.doctype,pre[class*=language-] .token.prolog{color:#586e75;font-style:italic}code[class*=language-] .token.punctuation,pre[class*=language-] .token.punctuation{color:#586e75}code[class*=language-] .namespace,pre[class*=language-] .namespace{opacity:.7}code[class*=language-] .token.property,pre[class*=language-] .token.property{color:#859900}code[class*=language-] .token.boolean,code[class*=language-] .token.function-name,code[class*=language-] .token.number,pre[class*=language-] .token.boolean,pre[class*=language-] .token.function-name,pre[class*=language-] .token.number{color:#d33682}code[class*=language-] .token.tag,pre[class*=language-] .token.tag{color:#268bd2}code[class*=language-] .token.selector,pre[class*=language-] .token.selector{color:#859900}code[class*=language-] .token.attr-name,pre[class*=language-] .token.attr-name{color:#657b83}code[class*=language-] .token.string,pre[class*=language-] .token.string{color:#2aa198}code[class*=language-] .token.char,pre[class*=language-] .token.char{color:#cb4b16}code[class*=language-] .token.builtin,pre[class*=language-] .token.builtin{color:#859900}code[class*=language-] .token.entity,pre[class*=language-] .token.entity{color:#268bd2}code[class*=language-] .token.url,pre[class*=language-] .token.url{color:#586e75}code[class*=language-] .token.atrule,code[class*=language-] .token.attr-value,code[class*=language-] .token.keyword,pre[class*=language-] .token.atrule,pre[class*=language-] .token.attr-value,pre[class*=language-] .token.keyword{color:#859900}code[class*=language-] .token.function,pre[class*=language-] .token.function{color:#268bd2}code[class*=language-] .token.class-name,pre[class*=language-] .token.class-name{color:#268bd2}code[class*=language-] .token.variable,pre[class*=language-] .token.variable{color:#268bd2}code[class*=language-] .token.important,code[class*=language-] .token.regex,pre[class*=language-] .token.important,pre[class*=language-] .token.regex{color:#dc322f}code[class*=language-] .token.bold,code[class*=language-] .token.important,pre[class*=language-] .token.bold,pre[class*=language-] .token.important{font-weight:700}code[class*=language-] .token.italic,pre[class*=language-] .token.italic{font-style:italic}code[class*=language-] .token.entity,pre[class*=language-] .token.entity{cursor:help}pre[data-line]{position:relative;padding:1em 0 1em 3em}pre[data-line] .line-highlight-wrapper{position:absolute;top:0;left:0;background-color:transparent;display:block;width:100%}pre[data-line] .line-highlight{position:absolute;left:0;right:0;padding:inherit 0;margin-top:1em;background:hsla(24,20%,50%,.08);background:linear-gradient(to right,hsla(24,20%,50%,.1) 70%,hsla(24,20%,50%,0));pointer-events:none;line-height:inherit;white-space:pre}pre[data-line] .line-highlight:before,pre[data-line] .line-highlight[data-end]:after{content:attr(data-start);position:absolute;top:.4em;left:.6em;min-width:1em;padding:0 .5em;background-color:hsla(24,20%,50%,.4);color:#f4f1ef;font:bold 65%/1.5 sans-serif;text-align:center;vertical-align:.3em;border-radius:999px;text-shadow:none;box-shadow:0 1px #fff}pre[data-line] .line-highlight[data-end]:after{content:attr(data-end);top:auto;bottom:.4em}body{background:#fff;line-height:1.555;text-align:justify;padding:2em;font-size:1.3rem;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-moz-font-feature-settings:'liga' on;font-family:'San Francisco',Roboto,'Segoe UI','Helvetica Neue','Lucida Grande',sans-serif;line-height:1.58;letter-spacing:-.003em;color:rgba(0,0,0,.8)}body p{font-family:'San Francisco',Roboto,'Segoe UI','Helvetica Neue','Lucida Grande',sans-serif;line-height:1.58;letter-spacing:-.003em;color:rgba(0,0,0,.8)}body .math,body .mathjax-exps,body h1,body h2,body h3,body h4,body h5,body h6,body li,body table{font-family:'San Francisco',Roboto,'Segoe UI','Helvetica Neue','Lucida Grande',sans-serif;color:rgba(0,0,0,.8)}body a,body a:active,body a:link,body a:visited{color:#404247;text-decoration:none;text-shadow:1px 1px 0 #fff,-1px 1px 0 #fff,2px 0 0 #fff,-2px 0 0 #fff;box-shadow:inset 0 -1px 0 0 #fff,inset 0 -2px 0 0 #404247}body h1,body h2,body h3,body h4,body h5,body h6{font-weight:700!important;font-style:normal;line-height:1.15;letter-spacing:-.02em}body p{margin-bottom:1.3em;font-weight:400;font-style:normal;font-size:18px;line-height:32px;color:#404247;overflow:visible}body a:hover{text-decoration:none}body h1,body h2,body h3,body h4{margin:1.414em 0 .5em;font-weight:inherit;line-height:1.2}body h1{margin-top:0;font-size:40px;line-height:48px;color:#101010;margin-top:21px}body h1:first-child{margin-top:80px}body h2{font-size:36px;line-height:40px;color:#202123}body h2:first-child{margin-top:40px}body h3{font-size:24px;line-height:32px;color:#202123}body h4,body h5,body h6{font-size:21px;line-height:32px;color:#a5a7ae;font-weight:400}body .font_small,body small{font-size:.707em}body .mathjax-block,body p{margin-top:0;-webkit-hypens:auto;-moz-hypens:auto;hyphens:auto}body img{max-width:100%}body ul{padding-left:1.2em;font-weight:400;font-style:normal}body ul>li:before{padding-top:4px;padding-right:15px;position:absolute;display:inline-block;box-sizing:border-box;width:58px;margin-left:-58px;text-align:right}body li>p{margin-top:0;margin-bottom:0}body ol{padding-left:1.2em}body blockquote{margin-left:1em;padding-left:1em;border-left:1px solid #ddd;line-height:1.15;letter-spacing:-.02em;font-weight:400;font-style:normal;font-size:21px;background-color:#f0f0f0}body blockquote p{font-style:normal;margin-bottom:0}body code,body pre{font-family:Consolas,Menlo,Monaco,monospace,serif;font-size:.9em;color:inherit}body pre.md-fences{margin-left:1em;padding-left:1em;border:1px solid #ddd;padding-bottom:8px;padding-top:6px;margin-bottom:1.5em}body a{color:#2484c1;text-decoration:none}body a img{border:none}body h1 a,body h1 a:hover{color:#333;text-decoration:none}body hr{color:#ddd;height:1px;margin:2em 0;border-top:solid 1px #ddd;border-bottom:none;border-left:0;border-right:0}body table{margin-bottom:1.333333rem}body table td,body table th{padding:8px;line-height:1.333333rem;vertical-align:top;border-top:1px solid #ddd}body table th{font-weight:700}body table thead th{vertical-align:bottom}body table caption+thead tr:first-child td,body table caption+thead tr:first-child th,body table colgroup+thead tr:first-child td,body table colgroup+thead tr:first-child th,body table thead:first-child tr:first-child td,body table thead:first-child tr:first-child th{border-top:0}body table tbody+tbody{border-top:2px solid #ddd}body .task-list{padding:0}body .task-list-item{padding-left:.5rem}body .task-list-item{list-style-type:none;margin-left:-1.8em}body .task-list-item .task-list-item-checkbox{margin-right:.8em}body .task-list-item input:before{content:'\221A';display:inline-block;width:1.33333333rem;height:1.6rem;vertical-align:middle;text-align:center;color:#ddd;background-color:#fefefe}body .task-list-item input:checked:before,body .task-list-item input[checked]:before{color:inherit}body kbd{color:rgba(0,0,0,.8)}.markdown-preview{width:100%;height:100%;box-sizing:border-box}.markdown-preview ul{list-style:disc}.markdown-preview ul ul{list-style:circle}.markdown-preview ul ul ul{list-style:square}.markdown-preview ol{list-style:decimal}.markdown-preview ol ol,.markdown-preview ul ol{list-style-type:lower-roman}.markdown-preview ol ol ol,.markdown-preview ol ul ol,.markdown-preview ul ol ol,.markdown-preview ul ul ol{list-style-type:lower-alpha}.markdown-preview .newpage,.markdown-preview .pagebreak{page-break-before:always}.markdown-preview pre.line-numbers{position:relative;padding-left:3.8em;counter-reset:linenumber}.markdown-preview pre.line-numbers>code{position:relative}.markdown-preview pre.line-numbers .line-numbers-rows{position:absolute;pointer-events:none;top:1em;font-size:100%;left:0;width:3em;letter-spacing:-1px;border-right:1px solid #999;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.markdown-preview pre.line-numbers .line-numbers-rows>span{pointer-events:none;display:block;counter-increment:linenumber}.markdown-preview pre.line-numbers .line-numbers-rows>span:before{content:counter(linenumber);color:#999;display:block;padding-right:.8em;text-align:right}.markdown-preview .mathjax-exps .MathJax_Display{text-align:center!important}.markdown-preview:not([data-for=preview]) .code-chunk .code-chunk-btn-group{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .status{display:none}.markdown-preview:not([data-for=preview]) .code-chunk .output-div{margin-bottom:16px}.markdown-preview .md-toc{padding:0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link div,.markdown-preview .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}.markdown-preview .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}.scrollbar-style::-webkit-scrollbar{width:8px}.scrollbar-style::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}.scrollbar-style::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode]){position:relative;width:100%;height:100%;top:0;left:0;margin:0;padding:0;overflow:auto}html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{position:relative;top:0;min-height:100vh}@media screen and (min-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em calc(50% - 457px + 2em)}}@media screen and (max-width:914px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode]) .markdown-preview{font-size:14px!important;padding:1em}}@media print{html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{display:none}}html body[for=html-export]:not([data-presentation-mode]) #sidebar-toc-btn{position:fixed;bottom:8px;left:8px;font-size:28px;cursor:pointer;color:inherit;z-index:99;width:32px;text-align:center;opacity:.4}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] #sidebar-toc-btn{opacity:1}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc{position:fixed;top:0;left:0;width:300px;height:100%;padding:32px 0 48px 0;font-size:14px;box-shadow:0 0 4px rgba(150,150,150,.33);box-sizing:border-box;overflow:auto;background-color:inherit}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar{width:8px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-track{border-radius:10px;background-color:transparent}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc::-webkit-scrollbar-thumb{border-radius:5px;background-color:rgba(150,150,150,.66);border:4px solid rgba(150,150,150,.66);background-clip:content-box}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc a{text-decoration:none}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc{padding:0 16px}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link{display:inline;padding:.25rem 0}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link div,html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper .md-toc-link p{display:inline}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .md-sidebar-toc .md-toc .md-toc-link-wrapper.highlighted .md-toc-link{font-weight:800}html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{left:300px;width:calc(100% - 300px);padding:2em calc(50% - 457px - 300px / 2);margin:0;box-sizing:border-box}@media screen and (max-width:1274px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{padding:2em}}@media screen and (max-width:450px){html body[for=html-export]:not([data-presentation-mode])[html-show-sidebar-toc] .markdown-preview{width:100%}}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .markdown-preview{left:50%;transform:translateX(-50%)}html body[for=html-export]:not([data-presentation-mode]):not([html-show-sidebar-toc]) .md-sidebar-toc{display:none}
/* Please visit the URL below for more information: */
/*   https://shd101wyy.github.io/markdown-preview-enhanced/#/customize-css */

      </style>
      <!-- The content below will be included at the end of the <head> element. --><script type="text/javascript">
  document.addEventListener("DOMContentLoaded", function () {
    // your code here
  });
</script></head><body for="html-export">
    
    
      <div class="crossnote markdown-preview  ">
      
<h3 id="system-overview">System Overview </h3>
<p>The system consists of three primary components: the <strong>Parent</strong>, the <strong>Wrapper</strong>, and the <strong>SCORM Content Package</strong>.<br>
Each layer has a specific role in the communication and data flow, ensuring that the SCORM-compliant content interacts<br>
smoothly with the client's database and the learner's data.</p>
<h4 id="1-scorm-content-package">1. <strong>SCORM Content Package</strong> </h4>
<ul>
<li><strong>Role</strong>: The SCORM content package is the actual educational content that the learner interacts with. This content<br>
follows the SCORM standard, which requires synchronous communication with an LMS (Learning Management System).</li>
<li><strong>Communication</strong>: The SCORM package communicates with the LMS (which is simulated by the wrapper) using synchronous<br>
SCORM API calls, like <code>LMSInitialize</code>, <code>LMSGetValue</code>, and <code>LMSSetValue</code>.</li>
<li><strong>Challenges</strong>: SCORM communication is synchronous, which poses challenges when integrating it with modern<br>
asynchronous web technologies like the <code>postMessage</code> API.</li>
</ul>
<h4 id="2-wrapper">2. <strong>Wrapper</strong> </h4>
<ul>
<li><strong>Role</strong>: The wrapper acts as an intermediary between the SCORM content package and the parent. It simulates an LMS<br>
for the SCORM content, using the <code>scorm-again</code> library to handle SCORM API calls.</li>
<li><strong>Functionality</strong>:
<ul>
<li><strong>SCORM Handling</strong>: The wrapper intercepts all SCORM API calls from the content package and processes them using<br>
the <code>scorm-again</code> library. This library acts as a fake LMS, handling operations like data retrieval and storage<br>
synchronously within the wrapper.</li>
<li><strong>Parent Communication</strong>: The wrapper informs the parent about each SCORM interaction via the <code>postMessage</code> API.<br>
This communication is asynchronous and allows the parent to perform database operations in response to SCORM<br>
interactions.</li>
<li><strong>Data Initialization</strong>: Before initializing the SCORM content package, the wrapper requests the learner's data<br>
from the parent. Once the data is received, the wrapper initializes the content, ensuring that the SCORM part<br>
operates synchronously.</li>
</ul>
</li>
<li><strong>Challenges</strong>: The wrapper must handle both synchronous SCORM communication and asynchronous communication with the<br>
parent. This requires careful synchronization to ensure that the SCORM package operates correctly while allowing the<br>
parent to handle database operations asynchronously.</li>
</ul>
<h4 id="3-parent">3. <strong>Parent</strong> </h4>
<ul>
<li><strong>Role</strong>: The parent acts as the top-level controller, interacting with the wrapper and performing necessary<br>
database operations.</li>
<li><strong>Functionality</strong>:
<ul>
<li><strong>Data Retrieval</strong>: When the wrapper requests the learner’s current data, the parent retrieves it (simulated in<br>
the prototype by a JSON file) and sends it back to the wrapper.</li>
<li><strong>Asynchronous Operations</strong>: The parent asynchronously processes SCORM interactions, such as storing updated<br>
learner progress or retrieving data when requested by the wrapper.</li>
<li><strong>Event Handling</strong>: The parent is designed to be customized by the client. The client can add logic to handle<br>
various events triggered by the wrapper's messages, like logging, database updates, or custom business logic.</li>
</ul>
</li>
<li><strong>Challenges</strong>: The parent must handle asynchronous communication while ensuring that the wrapper and SCORM package<br>
remain in sync. This requires careful management of the messaging system to avoid delays or missed updates.</li>
</ul>
<h3 id="challenges-and-ideas-behind-the-system">Challenges and Ideas Behind the System </h3>
<ol>
<li>
<p><strong>Synchronous vs. Asynchronous Communication</strong>:</p>
<ul>
<li><strong>Challenge</strong>: SCORM’s synchronous nature clashes with the asynchronous nature of modern web APIs like<br>
<code>postMessage</code>. Directly linking SCORM’s synchronous calls to asynchronous operations can lead to timing issues and<br>
data inconsistencies.</li>
<li><strong>Solution</strong>: The <code>scorm-again</code> library within the wrapper handles all synchronous SCORM communication.<br>
Asynchronous operations are confined to communication between the wrapper and the parent, ensuring that the SCORM<br>
content remains unaffected by the asynchronous nature of web communication.</li>
</ul>
</li>
<li>
<p><strong>Data Initialization</strong>:</p>
<ul>
<li><strong>Challenge</strong>: SCORM content requires initial data (like learner progress) to be present before it begins<br>
operation. This data often comes from a database managed by the parent.</li>
<li><strong>Solution</strong>: The wrapper requests the necessary learner data from the parent before initializing the SCORM<br>
content. This ensures that the SCORM package can start with the correct data, and the operations remain<br>
synchronous within the content package.</li>
</ul>
</li>
<li>
<p><strong>Customization and Extensibility</strong>:</p>
<ul>
<li><strong>Challenge</strong>: The client needs to customize the parent layer to integrate their logic, like database operations,<br>
logging, and event handling.</li>
<li><strong>Solution</strong>: The parent layer is designed to be flexible, with clear points where the client can insert custom<br>
logic. The client interacts primarily with <code>parent.ts</code>, adding logic around the wrapper’s messages.</li>
</ul>
</li>
</ol>
<h3 id="conclusion">Conclusion </h3>
<p>The system is designed to bridge the gap between the synchronous SCORM content and modern asynchronous web applications.<br>
The wrapper plays a crucial role in managing this communication, ensuring that SCORM interactions are handled correctly<br>
while enabling the parent to perform necessary database operations asynchronously. This setup allows for a robust and<br>
flexible system that can be customized by the client to fit specific needs.</p>

      </div>
      
      
    
    
    
    
    
    
  
    </body></html>